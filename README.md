# spring-ai
* This is a POC that demonstrates some of the capabilities of the Spring AI libraries by leveraging a REST API that has been implemented [here](https://github.com/jack-truong/spring-ai).
* That repository's REST API uses OpenAI as its AI model.

# Running
* Run `yarn install` to install the latest dependencies.
* Run `yarn dev` to run a local dev instance.
* Ensure the backend server is running locally on port `8080`.  Instructions can on running the backend server can be found in that repository's README.

# Layout
This app is laid out with 5 top-level tabs.  Each of the tabs demonstrates an OpenAI
capability that has been exposed by the backend REST API.  They will be described below.

![](/documentation/layout.png?raw=true)

# Tabs
* ## AI Dog Info Generation
  This tab demonstrates the general chat feature of OpenAI.  It is specifically catered to
  return content about dogs.

  * The top dropdown loads a random list of dog breeds which is generated differently each time the 
  page initially loads.
  * The second dropdown contains a fixed enumeration of dog characteristics that the REST API provides
  to the frontend.
  * The `RANDOMIZE` button selects a dog breed at random, in case the user doesn't want to pick one manually.
  * The `GENERATE` button issues a call to the REST API to return a fact about the selected dog breed for each
  characteristic selected.  
  * Each time the `GENERATE` button is hit with the same selected data, it is likely to return slightly
  different facts, since the OpenAI chat model does not always return the exact same information every time.

![](/documentation/Dog_Info.gif?raw=true)

* ## AI Dog Image Generation
  This tab demonstrates the image generation feature of OpenAI.  It is specifically catered to
  generate unique images related to dogs.  

    * The backend interfaces with DALLÂ·E 3, which is OpenAI's image generation model.
    * The top dropdown loads a random list of dog breeds which is generated differently each time the
    page initially loads.
    * The remainder of the dropdowns are also populated from the REST API.  It returns uniquely random
    values each time the page loads.  
      * Activity, Color, Environment, Food, Instrument
    * The `RANDOMIZE` button selects a random value from each dropdown, in case the user doesn't want to pick them manually.
    * Once a selection has been made for all the values, hitting the `GENERATE` button issues a call to the REST API to return 
      a unique image that incorporates all of the information provided to it. 
    * Each time the `GENERATE` button is hit with the same selected data, it will return a different
    interpretation of the data in the form of a different image.
  

![](/documentation/Dog_Image_Generation_1.gif?raw=true)

![](/documentation/Dog_Image_Generation_2.gif?raw=true)

* ## AI Stocks
  This tab provides information about stocks. Because GPT-4o has a knowledge cutoff date of Oct 2023, it cannot
  provide real-time data.

  However, Spring-AI lets you provide functions that can provide this real-time data as additional context for the AI model
  to answer questions.  The backend provides such a function to call out to an external stocks REST API to get recent historical
  stock data from which the AI model can draw conclusions.

    * The top dropdown loads a random list of stock symbols which is generated differently each time the
      page initially loads.  Up to 5 different stocks can be selected at a time for comparison.
    * The second dropdown allows the user to select between a timeframe of 30, 60, or 90 days.
    * The `RANDOMIZE` button selects 5 random stock symbols, in case the user doesn't want to pick them manually.
    * The `GENERATE` button then issues a call to the REST API to ask OpenAI its opinion about which stock is the best to purchase
    based on the timeframe selected.  
      * For instance, selecting "60 days" will cause the backend to issue a query to OpenAI to make an evaluation of the best stock to buy
      based on data from the current day and the 60 days prior.
      * The page will then generate a bar graph and line graph depicting the information returned from the REST API,
      as well as the final recommendation generated by OpenAI.

![](/documentation/Stocks_1.gif?raw=true)

![](/documentation/Stocks_2.gif?raw=true)

* ## AI Image Analysis
  This tab answers questions about the image provided by the user.  It leverages OpenAI's GPT-4o's vision
  capabilities to analyze the images.

  * The first grouping of controls lets the user select an image by uploading it from disk or pasting in an image URL.
    * Common image types like `.png`, `.jpeg`, etc. should be supported.
    * Note:  Some image URLs won't be able to be loaded due to CORS policy.
  * After loading an image, the user can type any prompt they want to ask OpenAI about the picture. These questions
  can be very open ended, and the chat vision model will do its best to interpret the intent of the question.
    * "What is happening in this picture?"
    * "What foods should I avoid on this menu if I have celiac?"
    * "What is the purpose of the code shown in the picture?"

![](/documentation/Image_Analysis_Triangles.gif?raw=true)

![](/documentation/Image_Analysis_Fibonacci.gif?raw=true)

![](/documentation/Image_Analysis_Protest.gif?raw=true)

![](/documentation/Image_Analysis_Waldo.gif?raw=true)

![](/documentation/Image_Analysis_Menu.gif?raw=true)

* ## AI DB Analysis
  This tab provides information about the database hosted by the backend server. 

  Since GPT-4o has no knowledge of the specific database hosted by the backend server, this utilizes the fact that Spring-AI lets you provide functions that can provide this 
  personalized data as additional context for the AI model to answer questions.  The backend controller provides such a function to call which allows queries to be run against the Northwind database. 
  This is just a demonstration that the OpenAI model can be given contextual information about the database (its schema) and produce a query that attempts to answer the question passed in.

* This tab calls the REST API to retrieve an image of the database schema.
* The `ANALYZE` button sends a request to the REST API to answer a question about the database.
  * Questions like "What is the most popular product and its category?" and "Which customer has the highest total purchases and what did they order the most?" can be asked.
  * The REST API returns the actual query it used to answer the question asked.
  * The REST API returns the answer to the question as it can determine based on the query results returned from the database.

![](/documentation/DB_Analysis_1.gif?raw=true)

![](/documentation/DB_Analysis_2.gif?raw=true)
